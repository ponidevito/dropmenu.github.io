"use strict";let langArr={unit:{es:"Calculadora hidratos de carbono",en:"Bread units calculator",ua:"Калькулятор ХО"},bread:{es:"RACIONES DE HC",en:"Bread unit",ua:"Хлібна одиниця"},title:{es:"Calculadora para calcular HC",en:"Calculator for counting bread units",ua:"Калькулятор для підрахунку ХО"},carbohydrates:{es:"Carbohidratos en 100 gramos",en:"Carbohydrates in 100 grams",ua:"Вуглеводи в 100 грамах"},"units-bread":{es:"Carbohidratos en 100 gramos",en:"Carbohydrates in 100 grams",ua:"Вуглеводи в 100 грамах"},"modal-carbon":{es:"No más de 100 gramos de carbohidratos",en:"No more than 100 grams of carbohydrates",ua:"Не більше 100 грам вуглеводів"},bu:{es:"HC",en:"BU",ua:"ХО"},total:{es:"Peso total del producto en gramos",en:"Total product weight in grams",ua:"Загальна вага продукта в грамах"},count:{es:"Contar",en:"Count",ua:"Підрахунок"}};window.onload=()=>{localStorage.getItem("place1")&&(document.querySelector(".select__current").innerHTML=localStorage.getItem("place1")),localStorage.getItem("href")&&(location.href=localStorage.getItem("href"))};const html=document.querySelector("html");let btnResult=document.querySelector(".form__resultBtn"),btnXo=document.querySelectorAll(".form-btn"),result=document.querySelector(".form__result"),btn1=document.querySelector(".form__btn1"),btn2=document.querySelector(".form__btn2"),massive=[],mass=[],xo=[],number=[],form=document.forms.form,carbohydrates=form.carbohydrates,totalWeight=form.totalWeight,selectHeader=document.querySelector(".select__header"),selectItem=document.querySelectorAll(".select__item"),selectBody=document.querySelector(".select__body");const allLang=["en","es","ua"];let select=function(){function e(){let e=this.innerText;this.closest(".select").querySelector(".select__current").innerText=e;let t=this.innerText;location.href=window.location.pathname+"#"+t.toLowerCase(),localStorage.setItem("place1",t),localStorage.setItem("href",document.location.href),selectBody.classList.remove("opacity"),location.reload(),localStorage.getItem("place1")&&(t=localStorage.getItem("place1")),localStorage.getItem("href")&&(location.href=localStorage.getItem("href"),console.log("href"))}selectItem.forEach((t=>{t.addEventListener("click",e)})),selectHeader.addEventListener("click",(function(){selectBody.classList.toggle("opacity"),event.stopPropagation()}))};function changeLanguage(){let e=window.location.hash;e=e.substring(1),allLang.includes(e)||(localStorage.getItem("href")&&(location.href=localStorage.getItem("href"),console.log("href")),location.reload()),localStorage.setItem("lenguage",window.location),document.querySelector("title").innerHTML=langArr.unit[e];for(let t in langArr){let o=document.querySelector(".lng-"+t);o&&(o.innerHTML=langArr[t][e])}}function addInfo(){return btnXo.forEach((e=>{e.addEventListener("click",(()=>{btnXo.forEach((e=>{e.style.backgroundColor="rgb(211, 241, 170)"})),e.style.backgroundColor="rgb(140, 211, 41)",xo.push(e.value),result.innerHTML="",event.preventDefault()}))})),!0}function pushValue(){mass.push(carbohydrates.value),number.push(totalWeight.value);let e=mass/xo*number;massive.push(e);let t=Array.from(massive.toString(),Number).join(""),o=parseFloat(t);return result.textContent+=""+o.toFixed(2)/100,event.preventDefault(),resetAll(),!0}function resetAll(){return carbohydrates.value="",totalWeight.value="",btnXo.forEach((e=>{e.style.backgroundColor="#d3f1aa",btnResult.setAttribute("disabled","")})),!0}select(),window.addEventListener("load",(function(){localStorage.getItem("place1")&&(document.querySelector(".select__current").innerHTML=localStorage.getItem("place1"))})),changeLanguage(),addInfo(),btnResult.addEventListener("click",pushValue);let carbonRegExp=/^[0-9]{1,20}$/;carbohydrates.oninput=()=>{carbonRegExp.test(carbohydrates.value)?(carbohydrates.style.border="1px solid rgb(124, 231, 241)",carbohydrates.value>100?document.querySelector(".form__modal-carbon").classList.add("_active"):carbohydrates.value<1?document.querySelector(".form__modal-carbon-second").classList.add("_active"):(document.querySelector(".form__modal-carbon").classList.remove("_active"),document.querySelector(".form__modal-carbon-second").classList.remove("_active"))):carbohydrates.style.border="1px solid red"};let totalRegExp=/^[0-9]{2,20}$/;totalWeight.oninput=()=>{let e=totalRegExp.test(totalWeight.value);totalWeight.style.border=e?"1px solid rgb(124, 231, 241)":"1px solid red"};const checking=()=>btnResult.disabled=carbohydrates.value.length<1||carbohydrates.value>100||carbohydrates.value<1||totalWeight.value.length<2||"rgb(140, 211, 41)"!==btn1.style.backgroundColor&"rgb(140, 211, 41)"!==btn2.style.backgroundColor;carbohydrates.addEventListener("input",checking),totalWeight.addEventListener("input",checking),btn1.addEventListener("click",checking),btn2.addEventListener("click",checking),html.addEventListener("click",(function(e){"HTML"===e.target.tagName&&"BODY"!=!e.target.tagName||(document.querySelector(".form__modal-carbon").classList.remove("_active"),document.querySelector(".form__modal-carbon-second").classList.remove("_active"),selectBody.classList.remove("opacity"))}));